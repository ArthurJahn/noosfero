<h2><%= @configuration_name %> Configuration</h2>

<% form_for :metric_configuration, :url => {:action =>"create_compound_metric_configuration", 
:controller => "mezuro_plugin_myprofile"}, :method => :get do |f| %>
  <%= hidden_field_tag :configuration_name, @configuration_name %>  

  <p>
    <%= f.label :metric_name, "Metric Name:" %>
    <%= f.text_field :metric_name %>
  </p>
  <p>
    <%= f.label :description, "Description:" %>
    <%= f.text_field :description %>
  </p>
  <p>
    <%= f.label :scope, "Scope:" %>
    <%= f.select :scope, [["Class", "CLASS"]] %>
  </p>
  <p>
    <%= f.label :code, "Code:" %>
    <%= f.text_field :code %>
  </p>
  <p>
    <%= f.label :aggregation_form, "Aggregation:" %>
    <%= f.select :aggregation_form, [["Average","AVERAGE"], ["Median", "MEDIAN"], ["Maximum", "MAXIMUM"], ["Minimum", "MINIMUM"], 
    ["Count", "COUNT"], ["Standard Deviation", "STANDARD_DEVIATION"]] %>
  </p>
  <p>
    <%= f.label :weight, "Weight:" %>
    <%= f.text_field :weight %>
  </p>
  <p>
    <%= f.label :script, "Script:" %>
    <%= f.text_area :script %>
  </p>

  <p>
    <%= f.submit "Add" %>
  </p>

<% end %>

<!-- make this prettier -->
<table>
  <tr class="titles">
      <td><h5>Metric Name</h5></td>
      <td><h5>Metric Code</h5></td>
  </tr>
  <% @metric_configurations.each do |metric_configuration| %>
    <tr class="metric">
      <td><%= metric_configuration.metric.name %></td>
      <td><%= metric_configuration.code %></td>
    </tr>
  <% end %>
</table>
